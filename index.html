<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –ú–∏–ª–∞! üéâ</title>
  <meta name="theme-color" content="#0b0f1a" />
  <style>
    :root{
      --bg1:#070a12;
      --bg2:#0b1630;
      --pink:#ff4fd8;
      --cyan:#4df7ff;
      --gold:#ffd66e;
      --white:#f6f7ff;
      --glass: rgba(255,255,255,.08);
      --glass2: rgba(255,255,255,.12);
      --shadow: 0 20px 80px rgba(0,0,0,.55);
    }

    *{box-sizing:border-box}
    html, body{height:auto; min-height:100%; overflow-y:auto; overflow-x:hidden;}

    body{
      margin:0;
      font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Apple Color Emoji","Segoe UI Emoji";
      color:var(--white);
      overflow-x:hidden;
      overflow-y:auto;
      background:
        radial-gradient(1200px 900px at 15% 10%, rgba(255,79,216,.18), transparent 55%),
        radial-gradient(900px 700px at 80% 20%, rgba(77,247,255,.14), transparent 55%),
        radial-gradient(900px 700px at 50% 90%, rgba(255,214,110,.12), transparent 55%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
    }

    .aurora{
      position:fixed; inset:-20%;
      background:
        radial-gradient(closest-side, rgba(255,79,216,.22), transparent 70%),
        radial-gradient(closest-side, rgba(77,247,255,.18), transparent 70%),
        radial-gradient(closest-side, rgba(255,214,110,.14), transparent 70%);
      filter: blur(40px) saturate(130%);
      opacity:.9;
      mix-blend-mode: screen;
      animation: drift 16s ease-in-out infinite alternate;
      pointer-events:none;
      will-change: transform, opacity;
    }
    @keyframes drift{
      0%{ transform: translate3d(-3%, -2%, 0) rotate(-6deg) scale(1.05);}
      100%{ transform: translate3d(3%, 2%, 0) rotate(6deg) scale(1.12);}
    }

    .stars{
      position:fixed; inset:0;
      background-image:
        radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.7), transparent 60%),
        radial-gradient(1px 1px at 60% 70%, rgba(255,255,255,.55), transparent 60%),
        radial-gradient(1px 1px at 80% 25%, rgba(255,255,255,.5), transparent 60%),
        radial-gradient(1px 1px at 35% 80%, rgba(255,255,255,.45), transparent 60%),
        radial-gradient(2px 2px at 75% 85%, rgba(255,255,255,.55), transparent 60%),
        radial-gradient(1px 1px at 10% 70%, rgba(255,255,255,.35), transparent 60%);
      opacity:.35;
      pointer-events:none;
      animation: twinkle 6s ease-in-out infinite;
      will-change: opacity;
    }
    @keyframes twinkle{
      0%,100%{opacity:.28}
      50%{opacity:.45}
    }

    .wrap{
      position:relative;
      min-height:100vh;
      height:auto;
      display:grid;
      place-items: start center;
      padding:24px;
    }

    .card{
      width:min(1040px, 92vw);
      border-radius:28px;
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.16);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      transform: translateZ(0);
    }

    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background: conic-gradient(from 180deg,
        rgba(255,79,216,.0),
        rgba(255,79,216,.55),
        rgba(77,247,255,.55),
        rgba(255,214,110,.55),
        rgba(255,79,216,.55),
        rgba(255,79,216,.0)
      );
      filter: blur(18px);
      opacity:.55;
      animation: glowSpin 10s linear infinite;
      pointer-events:none;
      will-change: transform, opacity;
    }
    @keyframes glowSpin{to{transform: rotate(360deg)}}

    .inner{
      position:relative;
      padding:28px 28px 26px;
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }

    .top{
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    .badge{
      display:inline-flex;
      gap:10px;
      align-items:center;
      padding:10px 14px;
      border-radius:999px;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.16);
      font-weight:600;
      letter-spacing:.2px;
    }
    .dot{
      width:10px; height:10px; border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #fff, var(--cyan));
      box-shadow: 0 0 18px rgba(77,247,255,.8);
      animation: pulse 1.2s ease-in-out infinite;
      will-change: transform, opacity;
    }
    @keyframes pulse{0%,100%{transform:scale(.9);opacity:.8}50%{transform:scale(1.2);opacity:1}}

    .actions{
      display:flex; gap:10px; flex-wrap:wrap;
      align-items:center;
    }

    button, a.btn{
      appearance:none;
      border:none;
      cursor:pointer;
      color:var(--white);
      font-weight:700;
      padding:12px 14px;
      border-radius:14px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.16);
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:10px;
    }
    button:hover, a.btn:hover{
      transform: translateY(-2px);
      background: rgba(255,255,255,.14);
      border-color: rgba(255,255,255,.24);
    }
    button:active, a.btn:active{transform: translateY(0px) scale(.98)}
    .primary{
      background: linear-gradient(135deg, rgba(255,79,216,.35), rgba(77,247,255,.25));
      border-color: rgba(255,255,255,.22);
      box-shadow: 0 10px 30px rgba(255,79,216,.14);
    }

    .hero{
      margin-top:16px;
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:18px;
      align-items:stretch;
    }
    @media (max-width: 860px){
      body{overflow:auto}
      .wrap{height:auto; min-height:100%; padding:18px}
      .hero{grid-template-columns:1fr}
    }

    .title{
      font-size: clamp(34px, 4.2vw, 54px);
      line-height: 1.05;
      margin: 0 0 10px;
      letter-spacing: -0.8px;
      text-shadow: 0 10px 40px rgba(0,0,0,.35);
    }
    .title .name{
      background: linear-gradient(90deg, var(--pink), var(--cyan), var(--gold));
      -webkit-background-clip: text;
      background-clip:text;
      color: transparent;
      filter: drop-shadow(0 0 22px rgba(255,79,216,.18));
    }

    .subtitle{
      margin:0;
      font-size: 16px;
      line-height: 1.6;
      opacity: .92;
      max-width: 55ch;
    }

    .type{
      margin-top:14px;
      padding:14px 14px;
      border-radius:16px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.14);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 14px;
      min-height: 84px;
      position:relative;
      white-space: pre-wrap;
    }

    #typed{
      display:block;
      white-space: pre-wrap;
      text-align:left;
    }

    .cursor{
      display:inline-block;
      width:10px; height:18px;
      background: rgba(255,255,255,.85);
      margin-left:6px;
      animation: blink 1s steps(1,end) infinite;
      vertical-align: -3px;
      border-radius: 3px;
    }
    @keyframes blink{50%{opacity:0}}

    .side{
      border-radius:22px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.14);
      padding:18px;
      position:relative;
      overflow:hidden;
      display:grid;
      place-items:center;
    }

    .cake{
      width:100%;
      display:grid;
      place-items:center;
      padding:6px 0 10px;
    }

    .cake svg{
      width:min(280px, 100%);
      filter: drop-shadow(0 0 30px rgba(77,247,255,.12));
    }

    .footer{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      opacity:.9;
      font-size: 13px;
    }

    canvas#fx{
      position:fixed; inset:0;
      pointer-events:none;
      z-index: 5;
    }

    /* ====== –õ–Å–ì–ö–ò–ï ‚Äú–º–∏–ª—ã–µ‚Äù —ç—Ñ—Ñ–µ–∫—Ç—ã (CSS, –±–µ–∑ –ª–∞–≥–æ–≤) ====== */
    .cuteFx{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:4;
      overflow:hidden;
    }
    .float{
      position:absolute;
      left: var(--x, 50%);
      top: 110%;
      opacity: .0;
      transform: translate(-50%, 0) rotate(var(--r, 0deg));
      animation: floatUp var(--d, 12s) linear infinite;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.25));
      will-change: transform, opacity;
    }
    @keyframes floatUp{
      0%{transform: translate(-50%, 0) rotate(var(--r, 0deg)) scale(.95); opacity:0}
      8%{opacity: .9}
      90%{opacity: .9}
      100%{transform: translate(-50%, -140vh) rotate(calc(var(--r, 0deg) + 180deg)) scale(1.05); opacity:0}
    }

    .heart{
      width: 18px; height: 18px;
      background: rgba(255,79,216,.85);
      transform: rotate(45deg);
      border-radius: 4px;
      position:relative;
    }
    .heart::before, .heart::after{
      content:"";
      position:absolute;
      width: 18px; height: 18px;
      background: rgba(255,79,216,.85);
      border-radius: 50%;
    }
    .heart::before{ left:-9px; top:0;}
    .heart::after{ left:0; top:-9px;}

    .bow{
      width: 22px; height: 14px;
      position:relative;
    }
    .bow::before, .bow::after{
      content:"";
      position:absolute; top:0;
      width: 12px; height: 14px;
      background: rgba(77,247,255,.70);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 10px 12px 12px 10px;
    }
    .bow::before{left:0; transform: rotate(10deg)}
    .bow::after{right:0; transform: scaleX(-1) rotate(10deg)}
    .knot{
      position:absolute; left:50%; top:50%;
      width: 8px; height: 8px;
      background: rgba(255,214,110,.85);
      border-radius: 50%;
      transform: translate(-50%,-50%);
      border:1px solid rgba(255,255,255,.18);
    }

    .spark{
      width: 10px; height: 10px;
      position:relative;
      opacity:.9;
    }
    .spark::before, .spark::after{
      content:"";
      position:absolute; left:50%; top:50%;
      width: 10px; height: 2px;
      background: rgba(255,214,110,.9);
      transform: translate(-50%,-50%);
      border-radius: 2px;
    }
    .spark::after{
      width:2px; height:10px;
    }

    /* Photos section */
    #photos{margin-top:18px;}
    .photosBox{
      border-radius:22px;
      background:rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.14);
      padding:18px;
    }
    .photosTitle{
      margin:0 0 12px;
      font-size:22px;
      text-align:center; /* ‚úÖ –∫–∞–º–µ—Ä–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
    }
    .gridPhotos{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:12px;
    }
    .thumb{
      width:100%;
      aspect-ratio: 4 / 3;
      height:auto;
      object-fit:cover;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.06);
      cursor:pointer;
      transition: transform .12s ease, filter .12s ease;
    }
    .thumb:hover{transform: translateY(-2px); filter: brightness(1.05);}
    .thumb:active{transform: translateY(0px) scale(.99);}

    @media (min-width: 1100px){
      .gridPhotos{grid-template-columns: repeat(4, minmax(0, 1fr)); gap:14px;}
    }
    @media (max-width: 700px){
      .gridPhotos{grid-template-columns: repeat(2, minmax(0, 1fr));}
    }

    @media (prefers-reduced-motion: reduce){
      .aurora, .stars, .dot, .card::before, .float{animation:none !important;}
      button, a.btn{transition:none !important;}
      .cursor{animation:none !important; opacity:.8;}
      canvas#fx{display:none;}
    }
  
body.photos-mode #openGiftBtn{display:none !important;}
body.photos-mode .iosPlayer{display:none !important;}


    /* second-page side note (visible only on photos tab) */
    .sideNote{
      position: fixed;
      left: 48px;
      top: 110px;
      width: 280px;
      max-width: 30vw;
      z-index: 2;
      display: none; /* only on photos tab */
      pointer-events: none;
      user-select: none;
      opacity: .16;
      filter: blur(.15px);
    }
    .sideNoteInner{
      white-space: pre-line;
      font-size: 14px;
      line-height: 1.55;
      color: rgba(255,255,255,.75);
      text-shadow: 0 10px 30px rgba(0,0,0,.55);
    }
    body.photos-mode .sideNote{ display:block; }
    @media (max-width: 980px){
      .sideNote{ display:none !important; } /* hide on small screens */
    }


/* ===== Extra wow (optimized) ===== */
.glitterLayer{
  position:fixed; inset:0;
  pointer-events:none;
  z-index:2;
  opacity:.18;
  background:
    radial-gradient(1px 1px at 12% 18%, rgba(255,255,255,.65), transparent 55%),
    radial-gradient(1px 1px at 32% 62%, rgba(255,255,255,.55), transparent 55%),
    radial-gradient(1px 1px at 78% 28%, rgba(255,255,255,.6), transparent 55%),
    radial-gradient(1px 1px at 64% 82%, rgba(255,255,255,.5), transparent 55%),
    radial-gradient(1.5px 1.5px at 90% 70%, rgba(255,255,255,.55), transparent 55%),
    radial-gradient(1px 1px at 8% 78%, rgba(255,255,255,.45), transparent 55%),
    radial-gradient(2px 2px at 50% 20%, rgba(255,255,255,.38), transparent 60%),
    radial-gradient(2px 2px at 44% 86%, rgba(255,255,255,.34), transparent 60%);
  filter: blur(.2px);
  animation: glitterMove 18s linear infinite;
}
@keyframes glitterMove{
  0%{transform: translate3d(0,0,0) scale(1);}
  50%{transform: translate3d(0,-10px,0) scale(1.02);}
  100%{transform: translate3d(0,0,0) scale(1);}
}

/* Card entrance + gentle shine */
.card{
  animation: popIn .9s cubic-bezier(.18,.9,.2,1) both;
}
@keyframes popIn{
  0%{opacity:0; transform: translateY(18px) scale(.985);}
  100%{opacity:1; transform: translateY(0) scale(1);}
}
.card::after{
  content:"";
  position:absolute; inset:-40%;
  background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,.14) 34%, transparent 68%);
  transform: translateX(-120%) rotate(10deg);
  animation: shineSweep 7.5s ease-in-out infinite;
  pointer-events:none;
  opacity:.32;
  mix-blend-mode: overlay;
  will-change: transform;
}
@keyframes shineSweep{
  0%,55%{transform: translateX(-120%) rotate(10deg); opacity:0;}
  70%{opacity:.32;}
  100%{transform: translateX(120%) rotate(10deg); opacity:0;}
}

/* Cute bows (lightweight CSS shapes) */
.ribbons{
  position:absolute; inset:0;
  pointer-events:none;
  z-index:3; /* above glow, under content */
}
.bow{
  position:absolute;
  width:64px; height:48px;
  opacity:.55;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.22));
  transform-origin: 50% 50%;
  animation: bowWiggle 6.5s ease-in-out infinite;
  will-change: transform;
}
.bow::before,
.bow::after{
  content:"";
  position:absolute; top:14px;
  width:30px; height:22px;
  border-radius: 18px;
  background: linear-gradient(135deg, rgba(255,79,216,.55), rgba(77,247,255,.38));
  border:1px solid rgba(255,255,255,.22);
}
.bow::before{left:0; transform: rotate(-18deg);}
.bow::after{right:0; transform: rotate(18deg);}
.bow span{
  position:absolute; left:50%; top:18px;
  width:12px; height:12px;
  transform: translateX(-50%) rotate(10deg);
  border-radius: 999px;
  background: rgba(255,214,110,.52);
  border:1px solid rgba(255,255,255,.2);
}
@keyframes bowWiggle{
  0%,100%{transform: rotate(0deg) translateY(0);}
  50%{transform: rotate(2deg) translateY(-1px);}
}
.bow.tl{left:18px; top:18px; transform: rotate(-10deg);}
.bow.tr{right:18px; top:18px; transform: rotate(10deg);}
.bow.bl{left:18px; bottom:18px; transform: rotate(8deg);}
.bow.br{right:18px; bottom:18px; transform: rotate(-8deg);}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .glitterLayer, .card, .card::after, .bow{animation:none !important;}
}

/* ===== Smooth UI transitions (new) ===== */
html{ scroll-behavior: smooth; }

.hero, #photos{
  will-change: opacity, transform;
}

/* Cross-fade when switching tabs */
.tabFadeIn{
  animation: tabFadeIn .45s cubic-bezier(.18,.9,.2,1) both;
}
@keyframes tabFadeIn{
  from{opacity:0; transform: translateY(10px) scale(.995);}
  to{opacity:1; transform: translateY(0) scale(1);}
}

/* Modal (photo) smooth open/close */
#photoModal{
  opacity:0;
  visibility:hidden;
  transform: scale(1.01);
  transition: opacity .18s ease, transform .18s ease, visibility 0s linear .18s;
}
#photoModal.open{
  opacity:1;
  visibility:visible;
  transform: scale(1);
  transition: opacity .18s ease, transform .18s ease, visibility 0s;
}
#photoModal .btn{ transition: transform .12s ease, background .12s ease, border-color .12s ease; }

/* Gentle hover ‚Äúlift‚Äù for the whole card (desktop only) */
@media (hover:hover) and (pointer:fine){
  .card{ transition: transform .35s cubic-bezier(.18,.9,.2,1); }
  .card:hover{ transform: translateY(-2px) scale(1.002); }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior:auto; }
  #photoModal{ transition:none !important; transform:none !important; }
  .tabFadeIn{ animation:none !important; }
  .card{ transition:none !important; }
}

  
@media (max-width: 768px){
  .aurora, .stars, .glitterLayer, canvas#fx{display:none !important;}
}


.musicPlayer{
  position: fixed;
  left: 50%;
  bottom: 18px;
  transform: translateX(-50%);
  width: min(980px, calc(100vw - 28px));
  z-index: 1000;
  border-radius: 22px;
  background: linear-gradient(180deg, rgba(0,0,0,.26), rgba(0,0,0,.18));
  border: 1px solid rgba(255,255,255,.16);
  box-shadow: 0 24px 90px rgba(0,0,0,.55);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  overflow: hidden;
  transform-origin: 50% 100%;
}
.musicPlayer::before{
  content:"";
  position:absolute; inset:-2px;
  background: conic-gradient(from 220deg,
    rgba(255,79,216,.0),
    rgba(255,79,216,.55),
    rgba(77,247,255,.50),
    rgba(255,214,110,.45),
    rgba(255,79,216,.0)
  );
  filter: blur(16px);
  opacity:.45;
  pointer-events:none;
}
.playerInner{
  position:relative;
  display:grid;
  grid-template-columns: 1fr auto;
  gap:16px;
  padding:14px 14px;
}
.playerLeft{
  display:flex;
  flex-direction:column;
  gap:10px;
  min-width: 0;
}
.trackMeta{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:12px;
}
.trackText{ min-width:0; }
.trackTitle{
  margin:0;
  font-size: 15px;
  font-weight: 900;
  letter-spacing: -.2px;
  line-height: 1.15;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-shadow: 0 10px 40px rgba(0,0,0,.35);
}
.trackTitle .grad{
  background: linear-gradient(90deg, var(--pink), var(--cyan), var(--gold));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  filter: drop-shadow(0 0 18px rgba(255,79,216,.16));
}
.trackArtist{
  margin:4px 0 0;
  font-size: 12px;
  opacity: .78;
  font-weight: 650;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.timeRow{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:flex-end;
  font-variant-numeric: tabular-nums;
  font-size: 12px;
  opacity: .85;
}
.progressWrap{
  display:flex;
  align-items:center;
  gap:10px;
}
.progress{
  position:relative;
  height: 12px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.14);
  overflow:hidden;
  flex: 1 1 auto;
  cursor: pointer;
  user-select:none;
}
.progress .buf{
  position:absolute; inset:0;
  width: 0%;
  background: rgba(255,255,255,.08);
}
.progress .bar{
  position:absolute; inset:0;
  width: 0%;
  background: linear-gradient(90deg, rgba(255,79,216,.70), rgba(77,247,255,.55), rgba(255,214,110,.55));
  box-shadow: 0 0 26px rgba(77,247,255,.22);
}
.progress .knob{
  position:absolute;
  top: 50%;
  left: 0%;
  width: 18px;
  height: 18px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: rgba(255,255,255,.92);
  box-shadow: 0 12px 40px rgba(0,0,0,.45), 0 0 22px rgba(77,247,255,.22);
  border: 1px solid rgba(255,255,255,.22);
  pointer-events:none;
}
.controls{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:flex-start;
}
.pBtn{
  appearance:none;
  border:none;
  cursor:pointer;
  color:var(--white);
  font-weight:900;
  padding:10px 12px;
  border-radius:16px;
  background: rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.16);
  transition: transform .12s ease, background .12s ease, border-color .12s ease, box-shadow .12s ease;
  user-select:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  min-width: 46px;
}
.pBtn:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,.14);
  border-color: rgba(255,255,255,.24);
}
.pBtn:active{transform: translateY(0px) scale(.98)}
.pBtn.primary{
  background: linear-gradient(135deg, rgba(255,79,216,.35), rgba(77,247,255,.25));
  border-color: rgba(255,255,255,.22);
  box-shadow: 0 10px 30px rgba(255,79,216,.14);
}
.pBtn.small{ padding:10px 10px; min-width: 46px; }

.vinylWrap{ display:grid; place-items:center; padding: 6px 6px 6px 2px; }
.vinyl{
  width: 68px;
  height: 68px;
  border-radius: 50%;
  position: relative;
  background:
    radial-gradient(circle at 50% 50%, rgba(255,255,255,.9) 0 3px, transparent 4px),
    radial-gradient(circle at 50% 50%, rgba(255,214,110,.35) 0 11px, transparent 12px),
    radial-gradient(circle at 50% 50%, rgba(0,0,0,.55) 0 100%);
  border: 1px solid rgba(255,255,255,.18);
  box-shadow: 0 18px 60px rgba(0,0,0,.55);
  overflow:hidden;
  animation: vinylSpin 2.9s linear infinite;
  animation-play-state: paused;
}
.vinyl::before{
  content:"";
  position:absolute; inset:-1px;
  background: repeating-radial-gradient(circle at 50% 50%,
      rgba(255,255,255,.10) 0 2px,
      rgba(0,0,0,0) 2px 6px);
  opacity:.55;
  mix-blend-mode: overlay;
}
.vinyl::after{
  content:"";
  position:absolute;
  left: 50%; top: 50%;
  width: 24px; height: 24px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: linear-gradient(135deg, rgba(255,79,216,.65), rgba(77,247,255,.45));
  border: 1px solid rgba(255,255,255,.22);
  box-shadow: 0 0 26px rgba(255,79,216,.16);
}
.musicPlayer.playing .vinyl{ animation-play-state: running; }
@keyframes vinylSpin{ to{ transform: rotate(360deg); } }

@media (max-width: 640px){
  .playerInner{ grid-template-columns: 1fr; gap:10px; }
  .vinylWrap{ display:none; }
  .timeRow{ justify-content:flex-start; }
}
@media (prefers-reduced-motion: reduce){
  .vinyl{ animation: none !important; }
  .pBtn{ transition:none !important; }
}


/* =======================
   üéµ Original "Aurora Vinyl" Player
   ======================= */
:root{
  --ply-glass: rgba(10,12,20,.42);
  --ply-glass2: rgba(10,12,20,.24);
  --ply-border: rgba(255,255,255,.16);
  --ply-shadow: rgba(0,0,0,.55);
  --ply-glow-pink: rgba(255,79,216,.55);
  --ply-glow-cyan: rgba(77,247,255,.55);
  --ply-glow-gold: rgba(255,214,110,.45);
}

.auroraPlayer{
  position: fixed;
  left: 50%;
  bottom: 16px;
  transform: translateX(-50%);
  width: min(1040px, calc(100vw - 28px));
  z-index: 1200;
  border-radius: 26px;
  background: linear-gradient(180deg, var(--ply-glass), var(--ply-glass2));
  border: 1px solid var(--ply-border);
  box-shadow: 0 28px 110px var(--ply-shadow);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  overflow: hidden;
}

.auroraPlayer::before{
  content:"";
  position:absolute; inset:-2px;
  background:
    radial-gradient(1000px 420px at 15% 10%, rgba(255,79,216,.45), transparent 55%),
    radial-gradient(900px 380px at 55% 120%, rgba(77,247,255,.35), transparent 60%),
    radial-gradient(850px 350px at 110% 40%, rgba(255,214,110,.30), transparent 58%);
  filter: blur(18px);
  opacity:.70;
  pointer-events:none;
}

.auroraPlayer::after{
  content:"";
  position:absolute; inset:0;
  border-radius: 26px;
  padding: 1px;
  background: conic-gradient(from 220deg,
    rgba(255,79,216,.0),
    rgba(255,79,216,.55),
    rgba(77,247,255,.52),
    rgba(255,214,110,.44),
    rgba(255,79,216,.0)
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: .55;
  pointer-events:none;
}

.apInner{
  position: relative;
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 14px;
  padding: 14px 14px;
  align-items: center;
}

.apPlayCluster{
  display:flex;
  align-items:center;
  gap: 12px;
}

.bigPlay{
  width: 56px;
  height: 56px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.18);
  background: radial-gradient(circle at 30% 25%, rgba(255,255,255,.22), rgba(255,255,255,.06) 40%, rgba(0,0,0,.12) 70%);
  box-shadow: 0 18px 60px rgba(0,0,0,.45), 0 0 30px rgba(77,247,255,.12);
  display:grid;
  place-items:center;
  cursor:pointer;
  user-select:none;
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
  position: relative;
  overflow:hidden;
}

.bigPlay:hover{
  transform: translateY(-2px);
  border-color: rgba(255,255,255,.24);
  box-shadow: 0 22px 70px rgba(0,0,0,.55), 0 0 42px rgba(255,79,216,.12);
}
.bigPlay:active{ transform: translateY(0) scale(.98); }

.bigPlay .icon{
  font-size: 20px;
  line-height: 1;
  filter: drop-shadow(0 10px 24px rgba(0,0,0,.35));
}

.bigPlayRing{
  position:absolute;
  inset: -2px;
  pointer-events:none;
  opacity: .95;
}

.bigPlayRing circle.bg{
  stroke: rgba(255,255,255,.12);
  stroke-width: 3.5;
  fill: transparent;
}
.bigPlayRing circle.pg{
  stroke: url(#apRingGrad);
  stroke-width: 3.5;
  fill: transparent;
  stroke-linecap: round;
  transform-origin: 50% 50%;
  transform: rotate(-90deg);
  stroke-dasharray: 999;
  stroke-dashoffset: 999;
  filter: drop-shadow(0 0 10px rgba(77,247,255,.18));
}

.miniBtns{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.miniBtn{
  appearance:none;
  border:none;
  cursor:pointer;
  color:var(--white);
  font-weight: 900;
  width: 44px;
  height: 28px;
  border-radius: 12px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.16);
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
  display:grid;
  place-items:center;
  user-select:none;
}
.miniBtn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.14); border-color: rgba(255,255,255,.22); }
.miniBtn:active{ transform: translateY(0) scale(.99); }

.apMiddle{
  min-width:0;
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.apMetaRow{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: 12px;
}

.apTitleWrap{ min-width:0; }
.apTitle{
  margin:0;
  font-size: 16px;
  font-weight: 950;
  letter-spacing: -.25px;
  line-height: 1.1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.apTitle .grad{
  background: linear-gradient(90deg, var(--pink), var(--cyan), var(--gold));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  filter: drop-shadow(0 0 18px rgba(255,79,216,.14));
}
.apArtist{
  margin:4px 0 0;
  font-size: 12px;
  opacity: .80;
  font-weight: 700;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.apTime{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:flex-end;
  font-variant-numeric: tabular-nums;
  font-size: 12px;
  opacity: .88;
}

.apWaveRow{
  display:flex;
  align-items:center;
  gap: 12px;
}

.apWaveCanvas{
  width: 100%;
  height: 34px;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  overflow:hidden;
  cursor:pointer;
  position:relative;
}

.apWaveCanvas::before{
  content:"";
  position:absolute; inset:-2px;
  background: linear-gradient(90deg, rgba(255,79,216,.0), rgba(255,79,216,.10), rgba(77,247,255,.10), rgba(255,214,110,.08), rgba(255,79,216,.0));
  filter: blur(10px);
  opacity:.8;
  pointer-events:none;
}

.apWave{
  width: 100%;
  height: 100%;
  display:block;
}

.eqBars{
  width: 52px;
  height: 34px;
  border-radius: 16px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.14);
  display:flex;
  align-items:flex-end;
  justify-content:center;
  gap: 4px;
  padding: 6px 8px;
  overflow:hidden;
}

.eqBars span{
  width: 5px;
  height: 6px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(77,247,255,.65), rgba(255,79,216,.55));
  box-shadow: 0 0 18px rgba(77,247,255,.12);
  transform-origin: 50% 100%;
  animation: eqBounce 1.1s ease-in-out infinite;
  animation-play-state: paused;
}
.eqBars span:nth-child(2){ animation-delay: .12s; }
.eqBars span:nth-child(3){ animation-delay: .22s; }
.eqBars span:nth-child(4){ animation-delay: .34s; }
.eqBars span:nth-child(5){ animation-delay: .46s; }
@keyframes eqBounce{
  0%,100%{ transform: scaleY(.35); opacity:.75; }
  50%{ transform: scaleY(1.65); opacity:1; }
}

.auroraPlayer.playing .eqBars span{ animation-play-state: running; }

.apRight{
  display:flex;
  align-items:center;
  gap: 12px;
}

.vinylStage{
  width: 86px;
  height: 86px;
  border-radius: 22px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  display:grid;
  place-items:center;
  position:relative;
  overflow:hidden;
}

.vinylStage::before{
  content:"";
  position:absolute; inset:-2px;
  background: radial-gradient(120px 90px at 25% 20%, rgba(255,79,216,.18), transparent 55%),
              radial-gradient(120px 90px at 85% 90%, rgba(77,247,255,.16), transparent 58%);
  filter: blur(10px);
  opacity:.8;
  pointer-events:none;
}

.vinylDisc{
  width: 72px;
  height: 72px;
  border-radius: 50%;
  position: relative;
  background:
    radial-gradient(circle at 50% 50%, rgba(255,255,255,.92) 0 3px, transparent 4px),
    radial-gradient(circle at 50% 50%, rgba(255,214,110,.35) 0 12px, transparent 13px),
    radial-gradient(circle at 50% 50%, rgba(0,0,0,.62) 0 100%);
  border: 1px solid rgba(255,255,255,.18);
  box-shadow: 0 18px 70px rgba(0,0,0,.55);
  overflow:hidden;
  animation: vinylSpin 2.6s linear infinite;
  animation-play-state: paused;
}

.vinylDisc::before{
  content:"";
  position:absolute; inset:-1px;
  background:
    repeating-radial-gradient(circle at 50% 50%,
      rgba(255,255,255,.11) 0 2px,
      rgba(0,0,0,0) 2px 6px);
  opacity:.6;
  mix-blend-mode: overlay;
}

.vinylDisc::after{
  content:"";
  position:absolute;
  left: 50%; top: 50%;
  width: 26px; height: 26px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: linear-gradient(135deg, rgba(255,79,216,.7), rgba(77,247,255,.45));
  border: 1px solid rgba(255,255,255,.22);
  box-shadow: 0 0 28px rgba(255,79,216,.14);
}

.tonearm{
  position:absolute;
  width: 44px;
  height: 44px;
  right: -6px;
  top: -8px;
  transform-origin: 8px 36px;
  transform: rotate(-28deg);
  transition: transform .25s ease;
  opacity:.95;
  pointer-events:none;
}

.tonearm::before{
  content:"";
  position:absolute;
  left: 8px; top: 7px;
  width: 28px; height: 6px;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(255,255,255,.55), rgba(255,255,255,.14));
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
}
.tonearm::after{
  content:"";
  position:absolute;
  left: 30px; top: 9px;
  width: 10px; height: 10px;
  border-radius: 6px;
  background: rgba(255,255,255,.65);
  border: 1px solid rgba(255,255,255,.22);
}

.auroraPlayer.playing .vinylDisc{ animation-play-state: running; }
.auroraPlayer.playing .tonearm{ transform: rotate(-10deg); }

@keyframes vinylSpin{ to{ transform: rotate(360deg); } }

.volWrap{
  display:flex;
  flex-direction:column;
  gap: 6px;
  width: 90px;
}

.volLabel{
  font-size: 11px;
  opacity: .70;
  font-weight: 700;
  text-align:right;
}

.vol{
  -webkit-appearance:none;
  appearance:none;
  width: 90px;
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.14);
  overflow:hidden;
}
.vol::-webkit-slider-thumb{
  -webkit-appearance:none;
  appearance:none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(255,255,255,.22);
  box-shadow: 0 10px 30px rgba(0,0,0,.45), 0 0 18px rgba(77,247,255,.18);
  cursor:pointer;
}
.vol::-moz-range-thumb{
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(255,255,255,.22);
  box-shadow: 0 10px 30px rgba(0,0,0,.45), 0 0 18px rgba(77,247,255,.18);
  cursor:pointer;
}

@media (max-width: 760px){
  .apInner{ grid-template-columns: 1fr; gap: 12px; }
  .apRight{ justify-content: space-between; }
  .volWrap{ width: 100%; }
  .vol{ width: 100%; }
  .volLabel{ text-align:left; }
}
@media (max-width: 520px){
  .vinylStage{ display:none; }
  .miniBtns{ flex-direction:row; }
}

@media (prefers-reduced-motion: reduce){
  .vinylDisc{ animation: none !important; }
  .eqBars span{ animation: none !important; }
  .bigPlay, .miniBtn{ transition:none !important; }
}


/* =======================
   üéµ iOS-inspired Glass Player (v3)
   ======================= */
:root{
  --gp-bg: rgba(12, 14, 24, .42);
  --gp-bg2: rgba(12, 14, 24, .22);
  --gp-br: rgba(255,255,255,.14);
  --gp-hi: rgba(255,255,255,.22);
  --gp-sh: rgba(0,0,0,.55);
  --gp-pink: rgba(255,79,216,.75);
  --gp-cyan: rgba(77,247,255,.70);
  --gp-gold: rgba(255,214,110,.60);
}

.iosPlayer{
  position: fixed;
  left: 50%;
  bottom: 16px;
  transform: translateX(-50%);
  width: min(1040px, calc(100vw - 28px));
  z-index: 1300;
  border-radius: 28px;
  background: linear-gradient(180deg, var(--gp-bg), var(--gp-bg2));
  border: 1px solid var(--gp-br);
  box-shadow: 0 30px 120px var(--gp-sh);
  backdrop-filter: blur(22px);
  -webkit-backdrop-filter: blur(22px);
  overflow: hidden;
}

.iosPlayer::before{
  content:"";
  position:absolute; inset:-2px;
  background:
    radial-gradient(900px 420px at 18% 15%, rgba(255,79,216,.30), transparent 55%),
    radial-gradient(820px 360px at 58% 120%, rgba(77,247,255,.24), transparent 60%),
    radial-gradient(820px 360px at 108% 35%, rgba(255,214,110,.18), transparent 58%);
  filter: blur(18px);
  opacity:.9;
  pointer-events:none;
}

.iosInner{
  position:relative;
  display:grid;
  grid-template-columns: 1fr auto;
  gap: 14px;
  padding: 14px 14px;
  align-items: center;
}

.iosLeft{
  min-width:0;
  display:flex;
  flex-direction:column;
  gap: 12px;
}

.iosTopRow{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  gap: 12px;
}

.iosMeta{
  min-width:0;
}
.iosTitle{
  margin:0;
  font-size: 16px;
  font-weight: 950;
  letter-spacing: -.25px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  text-shadow: 0 14px 40px rgba(0,0,0,.35);
}
.iosTitle .grad{
  background: linear-gradient(90deg, var(--pink), var(--cyan), var(--gold));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  filter: drop-shadow(0 0 18px rgba(255,79,216,.12));
}
.iosArtist{
  margin: 4px 0 0;
  font-size: 12px;
  opacity: .82;
  font-weight: 750;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.iosTime{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:flex-end;
  font-variant-numeric: tabular-nums;
  font-size: 12px;
  opacity: .9;
}

.iosProgressWrap{
  display:flex;
  flex-direction:column;
  gap: 8px;
}

.iosRange{
  width: 100%;
  -webkit-appearance:none;
  appearance:none;
  height: 12px;
  border-radius: 999px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.14);
  overflow:hidden;
}
.iosRange::-webkit-slider-thumb{
  -webkit-appearance:none;
  appearance:none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(255,255,255,.22);
  box-shadow: 0 12px 40px rgba(0,0,0,.45), 0 0 18px rgba(77,247,255,.16);
  cursor:pointer;
}
.iosRange::-moz-range-thumb{
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(255,255,255,.22);
  box-shadow: 0 12px 40px rgba(0,0,0,.45), 0 0 18px rgba(77,247,255,.16);
  cursor:pointer;
}

.iosControls{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}

.glassBtn{
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.10);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.18),
    0 16px 50px rgba(0,0,0,.38);
  color: var(--white);
  border-radius: 999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 10px;
  cursor:pointer;
  user-select:none;
  transition: transform .12s ease, background .12s ease, border-color .12s ease, box-shadow .12s ease;
}

.glassBtn:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,.13);
  border-color: rgba(255,255,255,.22);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.20),
    0 20px 60px rgba(0,0,0,.48);
}
.glassBtn:active{ transform: translateY(0) scale(.985); }

.glassBtn svg{ width: 18px; height: 18px; }

.playBtn{
  width: 54px;
  height: 54px;
  background: radial-gradient(circle at 30% 25%, rgba(255,255,255,.22), rgba(255,255,255,.10) 40%, rgba(0,0,0,.10) 70%);
  border-color: rgba(255,255,255,.20);
  position:relative;
  overflow:hidden;
}
.playBtn::before{
  content:"";
  position:absolute; inset:-2px;
  background: linear-gradient(135deg, rgba(255,79,216,.22), rgba(77,247,255,.18));
  filter: blur(10px);
  opacity:.75;
  pointer-events:none;
}

.stopBtn{
  width: 46px;
  height: 46px;
}
.muteBtn{
  width: 46px;
  height: 46px;
}

.volWrap{
  display:flex;
  align-items:center;
  gap: 10px;
  min-width: 210px;
  justify-content:flex-end;
}
.volLabel{
  font-size: 11px;
  opacity: .75;
  font-weight: 750;
}
.vol{
  -webkit-appearance:none;
  appearance:none;
  width: 150px;
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.14);
}
.vol::-webkit-slider-thumb{
  -webkit-appearance:none;
  appearance:none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(255,255,255,.22);
  box-shadow: 0 10px 28px rgba(0,0,0,.45), 0 0 14px rgba(77,247,255,.14);
  cursor:pointer;
}
.vol::-moz-range-thumb{
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(255,255,255,.22);
  box-shadow: 0 10px 28px rgba(0,0,0,.45), 0 0 14px rgba(77,247,255,.14);
  cursor:pointer;
}

/* Right "artwork": vinyl + subtle spectrum */
.iosRight{
  display:grid;
  place-items:center;
  padding: 4px 2px 4px 6px;
}
.artCard{
  width: 96px;
  height: 96px;
  border-radius: 26px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.12);
  display:grid;
  place-items:center;
  position:relative;
  overflow:hidden;
}
.artCard::before{
  content:"";
  position:absolute; inset:-2px;
  background:
    radial-gradient(110px 90px at 25% 20%, rgba(255,79,216,.20), transparent 55%),
    radial-gradient(110px 90px at 90% 85%, rgba(77,247,255,.16), transparent 58%);
  filter: blur(10px);
  opacity:.9;
  pointer-events:none;
}

.vinyl{
  width: 76px;
  height: 76px;
  border-radius: 50%;
  position: relative;
  background:
    radial-gradient(circle at 50% 50%, rgba(255,255,255,.95) 0 3px, transparent 4px),
    radial-gradient(circle at 50% 50%, rgba(255,214,110,.35) 0 13px, transparent 14px),
    radial-gradient(circle at 50% 50%, rgba(0,0,0,.64) 0 100%);
  border: 1px solid rgba(255,255,255,.18);
  box-shadow: 0 18px 70px rgba(0,0,0,.55);
  overflow:hidden;
  animation: vinylSpin 2.6s linear infinite;
  animation-play-state: paused;
}
.vinyl::before{
  content:"";
  position:absolute; inset:-1px;
  background: repeating-radial-gradient(circle at 50% 50%,
      rgba(255,255,255,.11) 0 2px,
      rgba(0,0,0,0) 2px 6px);
  opacity:.6;
  mix-blend-mode: overlay;
}
.vinyl::after{
  content:"";
  position:absolute;
  left: 50%; top: 50%;
  width: 28px; height: 28px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: linear-gradient(135deg, rgba(255,79,216,.70), rgba(77,247,255,.45));
  border: 1px solid rgba(255,255,255,.22);
  box-shadow: 0 0 28px rgba(255,79,216,.14);
}

.spectrum{
  position:absolute;
  left: 8px;
  right: 8px;
  bottom: 10px;
  height: 12px;
  display:flex;
  gap: 3px;
  align-items:flex-end;
  justify-content:center;
  opacity:.9;
}
.spectrum span{
  width: 4px;
  height: 4px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(77,247,255,.75), rgba(255,79,216,.65));
  box-shadow: 0 0 18px rgba(77,247,255,.12);
  transform-origin: 50% 100%;
  animation: sp 1.1s ease-in-out infinite;
  animation-play-state: paused;
}
.spectrum span:nth-child(2){ animation-delay: .10s; }
.spectrum span:nth-child(3){ animation-delay: .22s; }
.spectrum span:nth-child(4){ animation-delay: .34s; }
.spectrum span:nth-child(5){ animation-delay: .46s; }
.spectrum span:nth-child(6){ animation-delay: .58s; }
@keyframes sp{
  0%,100%{ transform: scaleY(.55); opacity:.75; }
  50%{ transform: scaleY(2.0); opacity:1; }
}

.iosPlayer.playing .vinyl{ animation-play-state: running; }
.iosPlayer.playing .spectrum span{ animation-play-state: running; }

@keyframes vinylSpin{ to{ transform: rotate(360deg); } }

/* Mobile */
@media (max-width: 760px){
  .iosInner{ grid-template-columns: 1fr; }
  .iosRight{ display:none; }
  .volWrap{ min-width: 0; width: 100%; justify-content:flex-start; }
  .vol{ width: 100%; }
}
@media (prefers-reduced-motion: reduce){
  .vinyl{ animation:none !important; }
  .spectrum span{ animation:none !important; }
  .glassBtn{ transition:none !important; }
}

</style>
</head>
<body>
  <div class="aurora"></div>
  <div class="stars"></div>

  <div class="cuteFx" aria-hidden="true">
    <div class="float" style="--x:12%;--d:14s;--r:-8deg;animation-delay:-2s;"><div class="heart"></div></div>
    <div class="float" style="--x:24%;--d:16s;--r:10deg;animation-delay:-8s;"><div class="heart"></div></div>
    <div class="float" style="--x:36%;--d:15s;--r:-18deg;animation-delay:-5s;"><div class="heart"></div></div>
    <div class="float" style="--x:58%;--d:17s;--r:22deg;animation-delay:-11s;"><div class="heart"></div></div>
    <div class="float" style="--x:78%;--d:15s;--r:-6deg;animation-delay:-7s;"><div class="heart"></div></div>

    <div class="float" style="--x:18%;--d:18s;--r:14deg;animation-delay:-4s;">
      <div class="bow"><span class="knot"></span></div>
    </div>
    <div class="float" style="--x:66%;--d:19s;--r:-12deg;animation-delay:-10s;">
      <div class="bow"><span class="knot"></span></div>
    </div>
    <div class="float" style="--x:88%;--d:20s;--r:6deg;animation-delay:-13s;">
      <div class="bow"><span class="knot"></span></div>
    </div>

    <div class="float" style="--x:42%;--d:10s;--r:0deg;animation-delay:-1s;"><div class="spark"></div></div>
    <div class="float" style="--x:52%;--d:12s;--r:0deg;animation-delay:-6s;"><div class="spark"></div></div>
    <div class="float" style="--x:74%;--d:11s;--r:0deg;animation-delay:-9s;"><div class="spark"></div></div>
  </div>

  <canvas id="fx" aria-hidden="true"></canvas>

  <div class="sideNote" aria-hidden="true">
    <div class="sideNoteInner">–ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞—é,
—Ç—ã –≤—Å–µ –µ—â–µ –º–æ–∂–µ—à—å:
–ø–µ—Ä–µ–µ—Ö–∞—Ç—å –≤ –Ω–æ–≤—É—é
—Å—Ç—Ä–∞–Ω—É, –≤—ã—É—á–∏—Ç—å –ª—é–±–æ–π
—è–∑—ã–∫, –æ—Ç–∫—Ä—ã—Ç—å
—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∏–∑–Ω–µ—Å,
—Å–æ–±—Ä–∞—Ç—å –±–æ–ª—å—à—É—é
–∞—É–¥–∏—Ç–æ—Ä–∏—é –≤ –¢–¢,
–Ω–∞—É—á–∏—Ç—å—Å—è –∫–∞—Ç–∞—Ç—å—Å—è –Ω–∞
—Å–µ—Ä—Ñ–µ, –±–∞–π–∫–µ,
–æ—Ç–∫—Ä—ã—Ç–æ –¥–µ–ª–∞—Ç—å,
—á—Ç–æ –≤–∑–±—Ä–µ–¥—ë—Ç —Ç–µ–±–µ
–≤ –≥–æ–ª–æ–≤—É,
–ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫—É—á—É –±–µ–∑—É–º–Ω–æ
–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –∫–Ω–∏–≥,
–æ–±—ä–µ–∑–¥–∏—Ç—å –≤–µ—Å—å –º–∏—Ä,
–ø—Ä–æ–π—Ç–∏ –ø—É—Ç—å —Å–∞–Ω—Ç—å—è–≥–æ,
—Å—Ç–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω–æ–π –≤ —Å–æ—Ü
—Å–µ—Ç—è—Ö, —Å–æ–∑–¥–∞—Ç—å —Ç–µ–ª–æ
—Å–≤–æ–µ–π –º–µ—á—Ç—ã, –∑–∞–≤–µ—Å—Ç–∏
—Å–æ–±–∞–∫—É, –Ω–∞—É—á–∏—Ç—å—Å—è
–≤–æ–¥–∏—Ç—å, –ø–æ–¥–∞—Ä–∏—Ç—å –∂–∏–∑–Ω—å
–≤ –∫–æ–Ω—Ü–µ —Ç–æ –∫–æ–Ω—Ü–æ–≤...
—Ö–≤–∞—Ç–∏—Ç –∑–∞–≥–æ–Ω—è—Ç—å—Å—è!</div>
  </div>


  <div class="wrap">
    <main class="card" id="card">
      <div class="ribbons" aria-hidden="true">
        <i class="bow tl"><span></span></i>
        <i class="bow tr"><span></span></i>
        <i class="bow bl"><span></span></i>
        <i class="bow br"><span></span></i>
      </div>
      <div class="inner">
        <div class="top">
          <div class="badge" title="–ñ–∏–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤–∫–ª—é—á–µ–Ω—ã">
            <span class="dot"></span>
            <span>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è</span>
          </div>

          <div class="actions">
            <button class="primary" id="boomBtn">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ ‚ú®</button>
            <a class="btn" id="openGiftBtn" href="#photos">–û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—Ä–æ–∫ ‚Üó</a>
          </div>
        </div>

        <section class="hero" id="main">
          <div>
            <h1 class="title">–ú–∏–ª–∞, <span class="name">—Å –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!</span> üéÇ</h1>
            <p class="subtitle">
              –ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ –±—É–¥–µ—Ç –Ω–∞ –≤–∫—É—Å –∫–∞–∫ —Ç–≤–æ–π –ª—é–±–∏–º—ã–π –¥–µ—Å–µ—Ä—Ç: —Å–ª–∞–¥–∫–∏–π, —è—Ä–∫–∏–π –∏ —Å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º–∏
              –ø—Ä–∏—è—Ç–Ω–æ—Å—Ç—è–º–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥—É. –¢—ã ‚Äî –∫–æ—Å–º–æ—Å. –ò —Å–µ–≥–æ–¥–Ω—è —É –∫–æ—Å–º–æ—Å–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫ üåå
            </p>

            <div class="type" aria-live="polite">
              <span id="typed">–ñ–µ–ª–∞—é —Ç–µ–±–µ —Å—á–∞—Å—Ç—å—è, –∫—Ä–µ–ø—á–∞–π—à–µ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è, –º–æ—Ä–µ –ª—é–±–≤–∏, –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π —É–¥–∞—á–∏, –Ω–µ—Å–∫–æ–Ω—á–∞–µ–º–æ–≥–æ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è, –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ 5‚Äë—Ç–∏ —Ç—ã—Å—è—á–Ω—ã—Ö –∫—É–ø—é—Ä –≤ —Ç–≤–æ–µ–º –∫–æ—à–µ–ª—å–∫–µ, –º–µ–Ω—å—à–µ —Å—Ç—Ä–µ—Å—Å–∞ –∏ –º–Ω–æ–≥–æ —Å–µ–∫—Å–∞!</span><span class="cursor"></span>
            </div>

            <div class="footer">
              <div></div>
              <div></div>
            </div>
          </div>

          <aside class="side">
            <div class="cake" aria-hidden="true">
              <svg viewBox="0 0 320 260" fill="none" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <linearGradient id="g1" x1="0" y1="0" x2="320" y2="260" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#ff4fd8" stop-opacity=".85"/>
                    <stop offset=".45" stop-color="#4df7ff" stop-opacity=".7"/>
                    <stop offset="1" stop-color="#ffd66e" stop-opacity=".75"/>
                  </linearGradient>
                  <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                    <feGaussianBlur stdDeviation="6" result="blur"/>
                    <feMerge>
                      <feMergeNode in="blur"/>
                      <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                  </filter>
                </defs>

                <path d="M160 18 C150 35, 170 35, 160 18 Z" fill="url(#g1)" filter="url(#glow)"/>

                <g filter="url(#glow)">
                  <text x="160" y="78" text-anchor="middle"
                        font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif"
                        font-size="62" font-weight="900"
                        fill="rgba(255,255,255,.18)"
                        stroke="rgba(255,255,255,.45)" stroke-width="3"
                        paint-order="stroke">
                    17
                  </text>
                </g>

                <rect x="70" y="82" width="180" height="54" rx="18" fill="rgba(255,255,255,.10)" stroke="rgba(255,255,255,.22)"/>
                <path d="M88 110 C110 128, 130 92, 152 110 C174 128, 194 92, 216 110"
                      stroke="url(#g1)" stroke-width="6" stroke-linecap="round" filter="url(#glow)"/>

                <rect x="52" y="134" width="216" height="74" rx="22" fill="rgba(255,255,255,.08)" stroke="rgba(255,255,255,.2)"/>
                <path d="M78 168 C106 196, 128 142, 156 170 C184 198, 206 142, 234 170"
                      stroke="url(#g1)" stroke-width="7" stroke-linecap="round" filter="url(#glow)"/>

                <path d="M36 216 C70 244, 250 244, 284 216" stroke="rgba(255,255,255,.22)" stroke-width="10" stroke-linecap="round"/>
                <path d="M52 222 C86 252, 234 252, 268 222" stroke="url(#g1)" stroke-width="6" stroke-linecap="round" filter="url(#glow)"/>
              </svg>
            </div>
          </aside>
        </section>

        <section id="photos" style="display:none;">
          <div class="photosBox">
            <h2 class="photosTitle">üì∏</h2>

            <div class="gridPhotos">
              <img data-full class="thumb" src="g1.png" alt="–§–æ—Ç–æ 1" />
              <img data-full class="thumb" src="g2.png" alt="–§–æ—Ç–æ 2" />
              <img data-full class="thumb" src="g3.png" alt="–§–æ—Ç–æ 3" />
              <img data-full class="thumb" src="g4.png" alt="–§–æ—Ç–æ 4" />
              <img data-full class="thumb" src="g5.png" alt="–§–æ—Ç–æ 5" />
              <img data-full class="thumb" src="g7.png" alt="–§–æ—Ç–æ 7" />
              <img data-full class="thumb" src="g8.png" alt="–§–æ—Ç–æ 8" />
              <img data-full class="thumb" src="g9.png" alt="–§–æ—Ç–æ 9" />
              <img data-full class="thumb" src="g10.png" alt="–§–æ—Ç–æ 10" />
              <img data-full class="thumb" src="g11.png" alt="–§–æ—Ç–æ 11" />
              <img data-full class="thumb" src="g12.png" alt="–§–æ—Ç–æ 12" />
              <img data-full class="thumb" src="g13.png" alt="–§–æ—Ç–æ 13" />
              <img data-full class="thumb" src="g14.png" alt="–§–æ—Ç–æ 14" />
              <img data-full class="thumb" src="g15.png" alt="–§–æ—Ç–æ 15" />
              <img data-full class="thumb" src="g16.png" alt="–§–æ—Ç–æ 16" />
              <img data-full class="thumb" src="g17.png" alt="–§–æ—Ç–æ 17" />
              <img data-full class="thumb" src="g18.png" alt="–§–æ—Ç–æ 18" />
              <img data-full class="thumb" src="g19.png" alt="–§–æ—Ç–æ 19" />
              <img data-full class="thumb" src="g20.png" alt="–§–æ—Ç–æ 20" />
              <img data-full class="thumb" src="g21.png" alt="–§–æ—Ç–æ 21" />
              <img data-full class="thumb" src="g22.png" alt="–§–æ—Ç–æ 22" />
              <img data-full class="thumb" src="g23.png" alt="–§–æ—Ç–æ 23" />
              <img data-full class="thumb" src="g24.png" alt="–§–æ—Ç–æ 24" />
              <img data-full class="thumb" src="g25.png" alt="–§–æ—Ç–æ 25" />
              <img data-full class="thumb" src="g26.png" alt="–§–æ—Ç–æ 26" />
              <img data-full class="thumb" src="g27.png" alt="–§–æ—Ç–æ 27" />
              <img data-full class="thumb" src="g28.png" alt="–§–æ—Ç–æ 28" />
              <img data-full class="thumb" src="g29.png" alt="–§–æ—Ç–æ 29" />
              <img data-full class="thumb" src="g30.png" alt="–§–æ—Ç–æ 30" />
              <img data-full class="thumb" src="g31.png" alt="–§–æ—Ç–æ 31" />
              <img data-full class="thumb" src="g32.png" alt="–§–æ—Ç–æ 32" />
              <img data-full class="thumb" src="g33.png" alt="–§–æ—Ç–æ 33" />
              <img data-full class="thumb" src="g34.png" alt="–§–æ—Ç–æ 34" />
              <img data-full class="thumb" src="g35.png" alt="–§–æ—Ç–æ 35" />
              <img data-full class="thumb" src="g36.png" alt="–§–æ—Ç–æ 36" />
              <img data-full class="thumb" src="g37.png" alt="–§–æ—Ç–æ 37" />
              <img data-full class="thumb" src="g38.png" alt="–§–æ—Ç–æ 38" />
              <img data-full class="thumb" src="g39.png" alt="–§–æ—Ç–æ 39" />
              <img data-full class="thumb" src="g40.png" alt="–§–æ—Ç–æ 40" />
              <img data-full class="thumb" src="g41.png" alt="–§–æ—Ç–æ 41" />
              <img data-full class="thumb" src="g42.png" alt="–§–æ—Ç–æ 42" />
              <img data-full class="thumb" src="g43.png" alt="–§–æ—Ç–æ 43" />
              <img data-full class="thumb" src="g44.png" alt="–§–æ—Ç–æ 44" />
              <img data-full class="thumb" src="g45.png" alt="–§–æ—Ç–æ 45" />
              <img data-full class="thumb" src="g46.png" alt="–§–æ—Ç–æ 46" />
              <img data-full class="thumb" src="g47.png" alt="–§–æ—Ç–æ 47" />
              <img data-full class="thumb" src="g48.png" alt="–§–æ—Ç–æ 48" />
              <img data-full class="thumb" src="g49.png" alt="–§–æ—Ç–æ 49" />
              <img data-full class="thumb" src="g50.png" alt="–§–æ—Ç–æ 50" />
              <img data-full class="thumb" src="g51.png" alt="–§–æ—Ç–æ 51" />
              <img data-full class="thumb" src="g52.png" alt="–§–æ—Ç–æ 52" />
              <img data-full class="thumb" src="g53.png" alt="–§–æ—Ç–æ 53" />
              <img data-full class="thumb" src="g54.png" alt="–§–æ—Ç–æ 54" />
              <img data-full class="thumb" src="g55.png" alt="–§–æ—Ç–æ 55" />
              <img data-full class="thumb" src="g56.png" alt="–§–æ—Ç–æ 56" />
              <img data-full class="thumb" src="g57.png" alt="–§–æ—Ç–æ 57" />
              <img data-full class="thumb" src="g58.png" alt="–§–æ—Ç–æ 58" />
              <img data-full class="thumb" src="g59.png" alt="–§–æ—Ç–æ 59" />
              <img data-full class="thumb" src="g60.png" alt="–§–æ—Ç–æ 60" />
              <img data-full class="thumb" src="g61.png" alt="–§–æ—Ç–æ 61" />
              <img data-full class="thumb" src="g62.png" alt="–§–æ—Ç–æ 62" />
              <img data-full class="thumb" src="g63.png" alt="–§–æ—Ç–æ 63" />
              <img data-full class="thumb" src="g64.png" alt="–§–æ—Ç–æ 64" />
            </div>

            <div style="margin-top:14px;display:flex;justify-content:flex-end;gap:10px;flex-wrap:wrap;">
              <a class="btn" href="#main">‚Üê –ù–∞–∑–∞–¥</a>
            </div>
          </div>
        </section>

      </div>
    </main>
  </div>

  <div id="photoModal" style="position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.78);z-index:999;padding:18px;">
    <div style="position:relative;width:min(1200px,96vw);max-height:88vh;display:grid;place-items:center;">
      <img id="photoModalImg" alt="" style="max-width:96vw;max-height:88vh;width:auto;height:auto;object-fit:contain;display:block;border-radius:18px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);" />
      <button id="photoModalClose" class="btn" style="position:absolute;top:12px;right:12px;">–ó–∞–∫—Ä—ã—Ç—å ‚úï</button>
    </div>
  </div>

  
  </div>

  <script>
    // Typed text
    const typedEl = document.getElementById('typed');
    const lines = [
      "",
      "",
      "–ñ–µ–ª–∞—é —Ç–µ–±–µ —Å—á–∞—Å—Ç—å—è, –∫—Ä–µ–ø—á–∞–π—à–µ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è, –º–æ—Ä–µ –ª—é–±–≤–∏, –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π —É–¥–∞—á–∏, –Ω–µ—Å–∫–æ–Ω—á–∞–µ–º–æ–≥–æ –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–∏—è, –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ 5‚Äë—Ç—ã—Å—è—á–Ω—ã—Ö –∫—É–ø—é—Ä –≤ —Ç–≤–æ—ë–º –∫–æ—à–µ–ª—å–∫–µ, –º–µ–Ω—å—à–µ —Å—Ç—Ä–µ—Å—Å–∞ –∏ –º–Ω–æ–≥–æ —Å–µ–∫—Å–∞! üéâ"
    ];
    let li = 0, ci = 0;
    function typeTick(){
      if (li >= lines.length) return;
      const current = lines[li];
      if (ci <= current.length){
        typedEl.textContent = lines.slice(0, li).join("\n") + (li? "\n":"") + current.slice(0, ci);
        ci++;
        setTimeout(typeTick, 22 + Math.random()*28);
      } else {
        if (openGiftBtn) openGiftBtn.style.display = '';
        li++; ci = 0;
        setTimeout(typeTick, 320);
      }
    }
    typeTick();

    // Canvas FX (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
    const canvas = document.getElementById('fx');
    const ctx = canvas.getContext('2d', { alpha: true });
    let dpr = 1;

    function resize(){
      dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      canvas.width = Math.floor(innerWidth * dpr);
      canvas.height = Math.floor(innerHeight * dpr);
      canvas.style.width = innerWidth + "px";
      canvas.style.height = innerHeight + "px";
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    addEventListener('resize', resize, {passive:true});
    resize();

    const confetti = [];
    const sparks = [];
    const gravity = 0.08;

    function rand(min,max){ return min + Math.random()*(max-min); }

    function addConfettiBurst(x,y,amount=100){
      for(let i=0;i<amount;i++){
        confetti.push({
          x, y,
          vx: rand(-6,6),
          vy: rand(-10,-3),
          w: rand(6,12),
          h: rand(8,16),
          rot: rand(0,Math.PI*2),
          vr: rand(-0.2,0.2),
          life: rand(90,160),
          hue: rand(0,360),
          alpha: 1
        });
      }
    }

    function addFirework(x,y){
      const count = 90;
      for(let i=0;i<count;i++){
        const a = (i/count) * Math.PI*2;
        const sp = rand(2.2, 7.0);
        sparks.push({
          x, y,
          vx: Math.cos(a)*sp*rand(0.7,1.2),
          vy: Math.sin(a)*sp*rand(0.7,1.2),
          r: rand(1.2,2.3),
          life: rand(40,90),
          hue: rand(0,360),
          alpha: 1
        });
      }
    }

    function step(){
      ctx.clearRect(0,0,innerWidth,innerHeight);

      for(let i=confetti.length-1;i>=0;i--){
        const p = confetti[i];
        p.x += p.vx;
        p.y += p.vy;
        p.vy += gravity;
        p.vx *= 0.995;
        p.rot += p.vr;
        p.life--;
        p.alpha = Math.max(0, p.life/160);

        ctx.save();
        ctx.globalAlpha = p.alpha;
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        ctx.fillStyle = `hsla(${p.hue}, 95%, 65%, ${p.alpha})`;
        ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
        ctx.restore();

        if(p.y > innerHeight + 40 || p.life<=0) confetti.splice(i,1);
      }

      for(let i=sparks.length-1;i>=0;i--){
        const s = sparks[i];
        s.x += s.vx;
        s.y += s.vy;
        s.vx *= 0.985;
        s.vy *= 0.985;
        s.life--;
        s.alpha = Math.max(0, s.life/90);

        ctx.beginPath();
        ctx.globalAlpha = s.alpha;
        ctx.fillStyle = `hsla(${s.hue}, 100%, 70%, ${s.alpha})`;
        ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
        ctx.fill();

        if(s.life<=0) sparks.splice(i,1);
      }

      ctx.globalAlpha = 1;
      requestAnimationFrame(step);
    }
    requestAnimationFrame(step);

    // Interaction: –¢–û–õ–¨–ö–û –∫–Ω–æ–ø–∫–∞
    const boomBtn = document.getElementById('boomBtn');
    // (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –º–æ–¥–∞–ª–∫–∞-—Å—é—Ä–ø—Ä–∏–∑ –º–æ–≥–ª–∞ –±—ã—Ç—å —É–¥–∞–ª–µ–Ω–∞ ‚Äî –ø–æ—ç—Ç–æ–º—É –¥–µ–ª–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ
    const modal = document.getElementById('modal');
    const closeModal = document.getElementById('closeModal');
    const fireworksNow = document.getElementById('fireworksNow');function centerBurst(){
      addConfettiBurst(innerWidth*0.5, innerHeight*0.35, 220);
      addFirework(innerWidth*0.5, innerHeight*0.35);
    }

    boomBtn.addEventListener('click', () => {
      addConfettiBurst(innerWidth*0.5, innerHeight*0.25, 140);
      setTimeout(()=>addConfettiBurst(innerWidth*0.25, innerHeight*0.35, 80), 120);
      setTimeout(()=>addConfettiBurst(innerWidth*0.75, innerHeight*0.35, 80), 240);
    });

    function close(){ if(modal) modal.classList.remove('open'); }
    if (closeModal) closeModal.addEventListener('click', close);
    if (modal) modal.addEventListener('click', (e)=>{ if(e.target === modal) close(); });
    if (fireworksNow) fireworksNow.addEventListener('click', centerBurst);

    // Tabs
    const mainSection = document.getElementById('main');
    const photosSection = document.getElementById('photos');


    function animateIn(el){
      if (!el) return;
      el.classList.remove('tabFadeIn');
      // restart CSS animation
      void el.offsetWidth;
      el.classList.add('tabFadeIn');
    }


    function renderTab(){
      const openGiftBtn = document.getElementById('openGiftBtn');

      const isPhotos = (location.hash || '').startsWith('#photos');
      if (isPhotos){
        document.body.classList.add('photos-mode');
        // Hide player + stop music on Photos tab
        const bgMusic = document.getElementById('bgMusic');
        if (bgMusic){
          bgMusic.pause();
          bgMusic.currentTime = 0;
        }
        if (openGiftBtn) openGiftBtn.style.display = 'none';
        mainSection.style.display = 'none';
        photosSection.style.display = 'block';
        animateIn(photosSection);
        document.body.style.overflowY = 'auto';
      } else {
        document.body.classList.remove('photos-mode');
        if (openGiftBtn) openGiftBtn.style.display = '';
        mainSection.style.display = 'grid';
        animateIn(mainSection);
        photosSection.style.display = 'none';
        document.body.style.overflowY = 'hidden';
      }
    }
    addEventListener('hashchange', renderTab);
    renderTab();

    // fullscreen photo modal
    const photoModal = document.getElementById('photoModal');
    const photoModalImg = document.getElementById('photoModalImg');
    const photoModalClose = document.getElementById('photoModalClose');

    function openPhoto(src){
      photoModalImg.src = src;
      photoModal.classList.add('open');
    }
    function closePhoto(){
      photoModal.classList.remove('open');
      // clear src after fade-out to avoid flash on reopen
      setTimeout(()=>{ photoModalImg.src = ''; }, 180);
    }

    document.querySelectorAll('img[data-full]').forEach(img=>{
      img.addEventListener('click', ()=> openPhoto(img.getAttribute('src')));
    });

    photoModalClose.addEventListener('click', closePhoto);
    photoModal.addEventListener('click', (e)=>{ if(e.target === photoModal) closePhoto(); });
    addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closePhoto(); });
  </script>

<script>
  // üîÄ Random shuffle photos
  (function shufflePhotos(){
    const grid = document.querySelector('.gridPhotos');
    if (!grid) return;

    const items = Array.from(grid.children);
    for (let i = items.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [items[i], items[j]] = [items[j], items[i]];
    }
    items.forEach(el => grid.appendChild(el));
  })();
</script>


  <!-- üéµ Background music -->
  <audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <!-- üéµ iOS-inspired Glass Player -->
  <div class="iosPlayer" id="iosPlayer" role="region" aria-label="–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø–ª–µ–µ—Ä">
    <div class="iosInner">
      <div class="iosLeft">
        <div class="iosTopRow">
          <div class="iosMeta">
            <p class="iosTitle"><span class="grad">–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è</span></p>
            <p class="iosArtist">–ë–∞—Ä–±–∞—Ä–∏–∫–∏</p>
          </div>
          <div class="iosTime" aria-hidden="true">
            <span id="iosCur">0:00</span>
            <span style="opacity:.55">/</span>
            <span id="iosDur">0:00</span>
          </div>
        </div>

        <div class="iosProgressWrap">
          <input id="iosSeek" class="iosRange" type="range" min="0" max="1000" value="0" aria-label="–î–æ—Ä–æ–∂–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è">
          <div class="iosControls">
            <div style="display:flex; gap:10px; align-items:center;">
              <button class="glassBtn playBtn" id="iosPlay" aria-label="–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ / –ü–∞—É–∑–∞">
                <svg id="iosIconPlay" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M9 7.5v9l8-4.5-8-4.5Z" fill="rgba(255,255,255,.92)"/>
                </svg>
                <svg id="iosIconPause" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="display:none">
                  <path d="M7.5 6.5h3.2v11H7.5v-11Zm5.8 0h3.2v11h-3.2v-11Z" fill="rgba(255,255,255,.92)"/>
                </svg>
              </button>

              <button class="glassBtn stopBtn" id="iosStop" aria-label="–°—Ç–æ–ø">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <rect x="7.2" y="7.2" width="9.6" height="9.6" rx="2.2" fill="rgba(255,255,255,.90)"/>
                </svg>
              </button>

              <button class="glassBtn muteBtn" id="iosMute" aria-label="–ó–≤—É–∫">
                <svg id="iosVolOn" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M10 8 7.8 10H5.5v4h2.3L10 16V8Z" fill="rgba(255,255,255,.92)"/>
                  <path d="M14.2 9.2a4.5 4.5 0 0 1 0 5.6" stroke="rgba(255,255,255,.82)" stroke-width="2" stroke-linecap="round"/>
                  <path d="M16.8 7a8 8 0 0 1 0 10" stroke="rgba(255,255,255,.62)" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <svg id="iosVolOff" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="display:none">
                  <path d="M10 8 7.8 10H5.5v4h2.3L10 16V8Z" fill="rgba(255,255,255,.92)"/>
                  <path d="M14 9l7 7" stroke="rgba(255,255,255,.82)" stroke-width="2" stroke-linecap="round"/>
                  <path d="M21 9l-7 7" stroke="rgba(255,255,255,.82)" stroke-width="2" stroke-linecap="round"/>
                </svg>
              </button>
            </div>

            <div class="volWrap">
              <div class="volLabel">–ì—Ä–æ–º–∫–æ—Å—Ç—å</div>
              <input class="vol" id="iosVol" type="range" min="0" max="100" value="55" aria-label="–ì—Ä–æ–º–∫–æ—Å—Ç—å">
            </div>
          </div>
        </div>
      </div>

      <div class="iosRight" aria-hidden="true">
        <div class="artCard">
          <div class="vinyl"></div>
          <div class="spectrum">
            <span></span><span></span><span></span><span></span><span></span><span></span>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<script>
(function(){
  const audio = document.getElementById('bgMusic');
  const player = document.getElementById('iosPlayer');

  const playBtn = document.getElementById('iosPlay');
  const stopBtn = document.getElementById('iosStop');
  const muteBtn = document.getElementById('iosMute');

  const iconPlay = document.getElementById('iosIconPlay');
  const iconPause = document.getElementById('iosIconPause');
  const volOn = document.getElementById('iosVolOn');
  const volOff = document.getElementById('iosVolOff');

  const seek = document.getElementById('iosSeek');
  const curEl = document.getElementById('iosCur');
  const durEl = document.getElementById('iosDur');
  const vol = document.getElementById('iosVol');

  // Robust: some browsers return a Promise from play() and can reject. We keep UI consistent.
  function fmt(t){
    if (!isFinite(t) || t < 0) return "0:00";
    const m = Math.floor(t/60);
    const s = Math.floor(t%60);
    return m + ":" + String(s).padStart(2,"0");
  }

  function setPlayingUI(isPlaying){
    if (isPlaying){
      player.classList.add('playing');
      iconPlay.style.display = "none";
      iconPause.style.display = "";
    }else{
      player.classList.remove('playing');
      iconPlay.style.display = "";
      iconPause.style.display = "none";
    }
  }

  function syncTimes(){
    const d = audio.duration || 0;
    const t = audio.currentTime || 0;
    curEl.textContent = fmt(t);
    durEl.textContent = fmt(d);
    if (d){
      const v = Math.round((t/d) * 1000);
      if (!seek.matches(':active')) seek.value = String(v);
      // fill track with gradient via CSS variable approach (webkit doesn't support easily on range)
      // We'll simulate by setting background-size
      const pct = (v/1000)*100;
      seek.style.background = `linear-gradient(90deg, rgba(255,79,216,.75), rgba(77,247,255,.65), rgba(255,214,110,.55)) 0/ ${pct}% 100% no-repeat, rgba(255,255,255,.10)`;
    }else{
      seek.value = "0";
      seek.style.background = "rgba(255,255,255,.10)";
    }
  }

  async function play(){
    try{
      audio.volume = (Number(vol.value) || 55) / 100;
      const p = audio.play();
      if (p && typeof p.then === "function") await p;
      setPlayingUI(true);
    }catch(e){
      // If blocked by autoplay policy, user gesture should allow. If still blocked, keep paused.
      setPlayingUI(false);
    }
  }

  function pause(){
    audio.pause();
    setPlayingUI(false);
  }

  function toggle(){
    if (audio.paused) play();
    else pause();
  }

  function stop(){
    pause();
    audio.currentTime = 0;
    syncTimes();
  }

  function setMuted(m){
    audio.muted = !!m;
    volOn.style.display = audio.muted ? "none" : "";
    volOff.style.display = audio.muted ? "" : "none";
  }

  playBtn.addEventListener('click', toggle);
  stopBtn.addEventListener('click', stop);
  muteBtn.addEventListener('click', ()=> setMuted(!audio.muted));

  vol.addEventListener('input', ()=>{
    const v = (Number(vol.value)||0)/100;
    audio.volume = v;
    if (v === 0) setMuted(true);
    else setMuted(false);
  });

  seek.addEventListener('input', ()=>{
    const d = audio.duration || 0;
    if (!d) return;
    const v = Number(seek.value) || 0; // 0..1000
    audio.currentTime = (v/1000) * d;
    syncTimes();
  });

  audio.addEventListener('loadedmetadata', syncTimes);
  audio.addEventListener('timeupdate', syncTimes);
  audio.addEventListener('play', ()=> setPlayingUI(true));
  audio.addEventListener('pause', ()=> setPlayingUI(false));
  audio.addEventListener('ended', ()=>{ setPlayingUI(false); syncTimes(); });

  // Init
  syncTimes();
  setMuted(false);
  setPlayingUI(false);
})();
</script>

</body>
</html>
